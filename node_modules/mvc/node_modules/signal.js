
class Signal
{
	_handlerMap = new Map();

	add(handler, once=false){
		this._handlerMap.set(handler, once);
	}

	remove(handler){
		this._handlerMap.delete(handler);
	}

	has(handler){
		return this._handlerMap.has(handler);
	}

	notify(...args){
		for(let [handler, once] of this._handlerMap.entries()){
			if(once)this.remove(handler);
			handler(...args);
		}
	}
}

export default Signal;
