import newClass from 'utils/class/newClass';

class InjectionTypeSingleton
{
	constructor(realInjector, klass){
		this.realInjector = realInjector;
		this.klass = klass;
	}
	getValue(){
		if(!this.hasOwnProperty('value')){
			this.value = newClass(this.klass);
			this.realInjector.inject(this.value);
			this.realInjector = null;
			this.klass = null;
		}
		return this.value;
	}
}

export default InjectionTypeSingleton;
