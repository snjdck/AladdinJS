import {InjectTag} from 'ioc';
import Module from './Module';
import Msg from './Msg';
import defineClass from 'utils/class/defineClass';

const instanceProps = {
	notify(msgName, msgData){
		return this.module.notify(new Msg(msgName, msgData, this));
	}
};

const staticProps = {
	[InjectTag]: {module: Module}
};

export default (baseClass, initFn) => defineClass(baseClass, initFn, instanceProps, staticProps);