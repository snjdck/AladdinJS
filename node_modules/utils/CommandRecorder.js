
class CommandRecorder
{
	constructor(){
		this.list = [''];
		this.index = 0;
	}

	update(value){
		const {list} = this;
		list[list.length-1] = value;
		return this;
	}

	save(value=''){
		this.index = this.list.push(value) - 1;
	}

	prev(){
		this.index = Math.max(this.index - 1, 0);
		return this.list[this.index];
	}

	next(){
		this.index = Math.min(this.index + 1, this.list.length - 1);
		return this.list[this.index];
	}
}

module.exports = CommandRecorder;
