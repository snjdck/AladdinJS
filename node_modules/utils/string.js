"use strict";

const escapeColor = (pattern => {
	return input => {
		while(input.search(pattern) >= 0)
			input = input.replace(pattern, "<font color='$1'>$2</font>");
		return input;
	};
})(/\[(#[0-9a-fA-F]{1,6})\s(.+?)\]/);

const escapeHtmlChar = (pattern => {
	const htmlDict = {"<":"&lt;",">":"&gt;","&":"&amp;"};
	const escapeFn = char => htmlDict[char];
	return input => input.replace(pattern, escapeFn);
})(/[<>&]/g);

function formatInt(value, length=2, radix=10){
	return value.toString(radix).toUpperCase().padStart(length, "0");
}

module.exports = {
	escapeColor,
	escapeHtmlChar,
	formatInt
};