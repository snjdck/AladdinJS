"use strict";

function loadData(url, type="text", method="GET"){
	return new Promise(function(resolve, reject){
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.responseType = type;
		xmlhttp.onreadystatechange = function(){
			if(xmlhttp.readyState != 4){
				return;
			}
			if(xmlhttp.status == 200){
				resolve(xmlhttp.response);
			}else{
				reject(xmlhttp.statusText);
			}
		};
		xmlhttp.open(method, url, true);
		xmlhttp.send();
	});
}

module.exports = {
	loadData
};