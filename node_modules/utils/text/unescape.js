'use strict';

const unescape = function(){
	const pattern = /\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0'"\\trnbfv])/g;
	function replaceFn(_, v){
		if(v.length > 1){
			return String.fromCharCode(parseInt(v.slice(1), 16));
		}
		switch(v){
			case '0':return '\0';
			case 't':return '\t';
			case 'r':return '\r';
			case 'n':return '\n';
			case 'b':return '\b';
			case 'f':return '\f';
			case 'v':return '\v';
		}
		return v;
	}
	return text => text.replace(pattern, replaceFn);
}();

module.exports = unescape;
