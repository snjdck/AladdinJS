'use strict';

function showDetailFactory(handler, maxCount=100, interval=100){
	const list = [];
	return function(value){
		if(list.length == maxCount - 1){
			setInterval(handler, interval, list);
		}
		if(list.push(value) > maxCount){
			list.shift();
		}
	}
}

const average = function(){
	const add = (a, b) => a + b;
	return handler => list => handler(list.reduce(add, 0) / list.length);
}();

exports.showDetailFactory = showDetailFactory;
exports.average = average;
