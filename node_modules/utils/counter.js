'use strict';

const LoopRange = (count, i=-1) => () => i = (i + 1) % count;

function RangePool(end, i=0){
	const pool = [];
	return value => {
		if(value !== undefined){
			pool.push(value);
		}else if(pool.length > 0){
			return pool.pop();
		}else if(i < end){
			return i++;
		}else{
			throw new RangeError('out of range');
		}
	}
}

exports.LoopRange = LoopRange;
exports.RangePool = RangePool;
