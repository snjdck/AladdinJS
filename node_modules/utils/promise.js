'use strict';

const delay = milliseconds => new Promise(resolve => setTimeout(resolve, milliseconds));

function loopDo(handler, interval=1000){
	let fn = () => handler().then(() => delay(interval)).then(fn);
	return fn(), () => fn = null;
}

exports.delay = delay;
exports.loopDo = loopDo;
