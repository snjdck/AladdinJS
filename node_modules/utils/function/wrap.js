
function wrap(func, prev, next){
	if(!(prev || next))return func;
	if(!func){
		if(!prev)return next;
		if(!next)return prev;
	}
	return function(...args){
		if(prev)prev.apply(this, args);
		if(func)func.apply(this, args);
		if(next)next.apply(this, args);
	}
}

const condWrap = (fCond, fTrue, fFalse) => function(...args){
	const f = fCond.apply(this, args) ? fTrue : fFalse;
	return f.apply(this, args);
}

const switchWrap = (fCond, fList) => function(...args){
	const k = fCond.apply(this, args);
	return fList[k].apply(this, args);
}

module.exports = wrap;