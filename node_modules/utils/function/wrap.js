
const wrap = (func, prev, next) => function(...args){
	prev?.apply(this, args);
	const result = func?.apply(this, args);
	next?.apply(this, args);
	return result;
}

const condWrap = (fCond, fTrue, fFalse) => function(...args){
	const f = fCond.apply(this, args) ? fTrue : fFalse;
	return f?.apply(this, args);
}

const switchWrap = (fCond, fList) => function(...args){
	const k = fCond.apply(this, args);
	return fList[k]?.apply(this, args);
}

exports.wrap = wrap;
exports.condWrap = condWrap;
exports.switchWrap = switchWrap;
