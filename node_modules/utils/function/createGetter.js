function createGetter(factory){
	const dict = Object.create(null);
	return function(key, createIfNotExist=true){
		if(key in dict)return dict[key];
		if(!createIfNotExist)return;
		return dict[key] = factory();
	}
}

const createSingleValueWrapper = value => newValue => (newValue === undefined) ? value : (value = newValue);

module.exports = {
	createGetter,
	createSingleValueWrapper
};
