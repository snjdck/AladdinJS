'use strict';

const callback = (resolve, index) => index == 0 ? resolve : (...args) => resolve(args[index]);
const promisify = (fn, index=0) => (...args) => new Promise(resolve => fn(...args, callback(resolve, index)));

module.exports = promisify;
