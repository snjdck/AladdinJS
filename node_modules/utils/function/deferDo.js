'use strict';

const call = fn => fn();

function deferDo(){
	const taskList = [];
	const enqueue = task => taskList.push(task);
	const execute = () => {
		if(taskList.length <= 0)return;
		taskList.forEach(call);
		taskList.length = 0;
	}
	return [enqueue, execute];
}

module.exports = deferDo;
