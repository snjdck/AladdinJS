
const callWhenDone = task => {
	let flag = false;
	return function(){
		if(flag)return;
		flag = true;
		task.call(this).finally(() => flag = false);
	}
}

exports.callWhenDone = callWhenDone;
