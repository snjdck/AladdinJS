



async function getVRDisplays(canvas){
	if(!navigator.getVRDisplays){
		return;
	}
	let displays = await navigator.getVRDisplays();
	if(displays.length <= 0){
		return;
	}
	let display = displays[0];
	await display.requestPresent([{source: canvas}]);
	var lEye = display.getEyeParameters('left');
	var rEye = display.getEyeParameters('right');
	canvas.width  = Math.max(lEye.renderWidth,  rEye.renderWidth) * 2;
	canvas.height = Math.max(lEye.renderHeight, rEye.renderHeight);
	var frameData = new VRFrameData();
	function drawVRScene(){
		display.requestAnimationFrame(drawVRScene);
		display.getFrameData(frameData);

		display.submitFrame();
	}
	drawVRScene();
}