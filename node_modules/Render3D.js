const Matrix3D = require("Matrix3D");
var cameraMatrix = new Matrix3D();

class Render3D
{
	constructor(gl){
		this.gl = gl;
		this.zRange = 2000;
	}

	drawBegin(mode){
		var gl = this.gl;

		var program = gl.__program__[`shader3d&${mode}`];
		gl.useProgram(program);

		var address = gl.getUniformLocation(program, "screenMatrix");
		gl.uniform3f(address, 2 / gl.drawingBufferWidth, 2 / gl.drawingBufferHeight, 2 / this.zRange);

		var address = gl.getUniformLocation(program, "cameraMatrix");
		gl.uniformMatrix4fv(address, false, cameraMatrix);

	}
}

module.exports = Render3D;