class Marker
{
	constructor(){
		this.finishFlag = false;
		this.signalList = [];
	}

	finish(){
		this.finishFlag = true;
		for(let fn of this.signalList){
			fn();
		}
		this.signalList.length = 0;
	}

	exec(fn){
		if(this.finishFlag){
			fn();
		}else{
			this.signalList.push(fn);
		}
	}
}