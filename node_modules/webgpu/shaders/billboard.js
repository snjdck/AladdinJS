
const vertex3DShaderGLSL = `#version 450

layout(binding=0)
uniform MVP_BLOCK {
	mat4 screenMatrix;
	mat3x4 cameraMatrix;
};

layout(set=1, binding=0)
uniform WORLD_BLOCK {
	mat4x4 worldMatrixList[256];
};

layout(location = 0)
out vec2 uv;

void main()
{
	vec2 vertex = vec2(gl_VertexIndex >> 1, gl_VertexIndex & 1);
	vec2 xyDiff = fma(vertex, vec2(2.0), vec2(-1.0)) * vec2(100.0);
	vec3 worldPosition = vec3(0);
	worldPosition = vec4(worldPosition, 1) * mat3x4(worldMatrixList[gl_InstanceIndex << 2]);
	
	vec3 cameraPosition = vec4(worldPosition, 1) * cameraMatrix;

	cameraPosition.xy += xyDiff;

	vec4 screenPosition = vec4(cameraPosition, 1) * screenMatrix;

	gl_Position = screenPosition;
	uv = vertex;
}
`;

const fragment3DShaderGLSL = `#version 450

	//layout(binding=1)uniform sampler _sampler;
	//layout(set=2, binding=0)uniform texture2D _texture;

	layout(location=0)out vec4 outColor;
	layout(location=0)in vec2 uv;

	void main() {
		outColor = vec4(0.0, 1.0, 0.0, 1.0);
	}
`;


exports.vertexCode = vertex3DShaderGLSL
exports.fragmentCode = fragment3DShaderGLSL;
