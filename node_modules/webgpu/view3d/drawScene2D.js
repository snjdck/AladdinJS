'use strict';

const Vulkan = require('../Vulkan');

const drawScene2D = function(){
	const renderPassDesc = {
		colorAttachments: [{
			attachment: null,
			loadValue: 'load'
		}]
	};
	return function(root){
		Vulkan.render2D.collect(root);
		renderPassDesc.colorAttachments[0].attachment = Vulkan.mainColorTexture;
		Vulkan.renderPassEncoder = Vulkan.commandEncoder.beginRenderPass(renderPassDesc);
		Vulkan.render2D.prepareToDraw();
		Vulkan.render2D.draw();
		Vulkan.renderPassEncoder.endPass();
	}
}();

module.exports = drawScene2D;
