'use strict';

const Vulkan = require('../Vulkan');

module.exports = function(){
	const textureBindGroupDesc = {
		layout: Vulkan.bindGroupLayoutDict.bindGroupLayout3,
		entries: [{binding: 0,
			resource: null//bind later
		}]
	};
	return function(instanceList){
		const {device, renderPassEncoder} = Vulkan;
		const texture = instanceList[0].texture.getRawAsset();
		textureBindGroupDesc.entries[0].resource = texture;
		renderPassEncoder.setBindGroup(1, device.createBindGroup(textureBindGroupDesc));
		Vulkan.vertexBufferMgr.draw(instanceList);
	}
}