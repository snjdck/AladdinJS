'use strict';

function groupDrawCallback(list, offset, count, activeFn, callback){
	for(let i=0, begin=0; begin<count; ++i){
		if(i < count && activeFn(list[offset+i])){
			continue;
		}
		if(begin < i){
			callback(begin, i - begin);
		}
		begin = i + 1;
	}
}

function groupDrawResult(list, offset, count, activeFn){
	const result = [];
	groupDrawCallback(list, offset, count, activeFn, (...args) => result.push(args));
	return result;
}

exports.groupDrawCallback = groupDrawCallback;
exports.groupDrawResult = groupDrawResult;
/*
draw([1,1,0,0,0], 0, 5, v => v, console.log)
draw([1,1,1,1,1], 0, 5, v => v, console.log)
draw([0,0,1,1,1], 0, 5, v => v, console.log)
draw([0,0,1,1,0], 0, 5, v => v, console.log)
draw([0,1,0,1,0], 0, 5, v => v, console.log)
draw([0,0,0,0,0], 0, 5, v => v, console.log)
draw([1,0,0,0,1], 0, 5, v => v, console.log)
*/
