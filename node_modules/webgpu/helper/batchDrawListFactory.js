'use strict';

module.exports = keyFn => list => {
	const queue = [];
	let currentKey, currentSet;
	for(const target of list){
		const key = keyFn(target);
		if(!key)continue;
		if(currentKey == key){
			currentSet.push(target);
			continue;
		}
		currentKey = key;
		currentSet = [target];
		queue.push([currentKey, currentSet]);
	}
	return queue;
}
