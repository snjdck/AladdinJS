const Vulkan = require('../Vulkan');

const RenderPass = desc => function(handler, colors, depthStencil){
	for(let i=desc.colorAttachments.length-1; i>=0; --i){
		desc.colorAttachments[i].view = colors[i];
	}
	if(desc.depthStencilAttachment){
		desc.depthStencilAttachment.view = depthStencil;
	}
	Vulkan.renderPassEncoder = Vulkan.commandEncoder.beginRenderPass(desc);
	handler.call(this);
	Vulkan.renderPassEncoder.end();
}

module.exports = RenderPass;
