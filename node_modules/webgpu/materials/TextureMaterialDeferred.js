'use strict';

const TextureMaterial = require('./TextureMaterial');

const pipeline = {
	...TextureMaterial.pipelineDesc,
	vertex: {
		...TextureMaterial.pipelineDesc.vertex,
		entryPoint: 'mainDeferred',
	},
	fragment: {
		...TextureMaterial.pipelineDesc.fragment,
		entryPoint: 'mainDeferred',
		targets:[{
			writeMask: GPUColorWrite.ALL,
			format: 'bgra8unorm',
		}, {
			writeMask: GPUColorWrite.RED | GPUColorWrite.GREEN | GPUColorWrite.BLUE,
			format: 'rgba32float',
		}, {
			writeMask: GPUColorWrite.RED | GPUColorWrite.GREEN | GPUColorWrite.BLUE,
			format: 'rgba32float',
		}],
	},
};

class TextureMaterialDeferred extends TextureMaterial.Subclass(pipeline){
}

module.exports = TextureMaterialDeferred;
