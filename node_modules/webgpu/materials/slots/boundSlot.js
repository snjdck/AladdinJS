'use strict';

const Vulkan = require('../../Vulkan');
const UniformBufferSlotCache = require('../../helper/UniformBufferSlotCache');

const SlotBase = require('./SlotBase');

const buffer = new Float32Array(7);

module.exports = SlotBase(() => new UniformBufferSlotCache(
	Vulkan.layout_2_dynamic,
	256,
	drawUnit => {
		const {bound} = drawUnit.material;
		buffer[0] = bound.minX;
		buffer[1] = bound.minY;
		buffer[2] = bound.minZ;
		buffer[4] = bound.maxX;
		buffer[5] = bound.maxY;
		buffer[6] = bound.maxZ;
		return buffer;
	}
));
