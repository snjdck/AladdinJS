'use strict';

const Vulkan = require('../Vulkan');

module.exports = function(){
	const {device} = Vulkan;
	return device.createComputePipeline({
		layout: device.createPipelineLayout({
			bindGroupLayouts:[
				Vulkan.bindGroupLayoutDict.bindGroupLayoutCull,//direct buffer
				Vulkan.bindGroupLayoutDict.bindGroupLayout2,//world matrix
				Vulkan.bindGroupLayoutDict.bindGroupLayout2,//camera
				Vulkan.bindGroupLayoutDict.bindGroupLayout2,//bound
			]
		}),
		computeStage:{
			module: device.createShaderModule({
				code: Vulkan.shader_cull,
			}),
			entryPoint: 'main'
		}
	});
}