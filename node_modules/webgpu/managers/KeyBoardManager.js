"use strict";

/* "keydown", "keyup", "keypress" */
class KeyBoardManager
{
	constructor(){
		this.keyMap = new Map();
		this.keyCodeMap = new Map();
		this.init();
	}

	init(){
		document.addEventListener("keydown", this.onEvent.bind(this, true));
		document.addEventListener("keyup"  , this.onEvent.bind(this, false));
	}

	onEvent(isKeyDown, evt){
		this.altKey = evt.altKey;
		this.ctrlKey = evt.ctrlKey;
		this.shiftKey = evt.shiftKey;
		this.keyMap.set(evt.key, isKeyDown);
		this.keyCodeMap.set(evt.keyCode, isKeyDown);
	}

	isKeyDown(keyCode){
		return this.keyCodeMap.get(keyCode);
	}
}

module.exports = KeyBoardManager;
