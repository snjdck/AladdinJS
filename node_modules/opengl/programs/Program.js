"use strict";

const WebGL = require('../WebGL');

class Program
{
	constructor(shader){
		this.shader = shader;
	}

	active(){
		let {gl, programMgr} = WebGL;
		if(this.program){
			gl.useProgram(this.program);
		}else{
			let program = programMgr.fetch(this.shader);
			gl.useProgram(program);
			this.onInit(gl, program);
			this.program = program;
		}
	}

	onInit(gl, program){}
}

module.exports = Program;