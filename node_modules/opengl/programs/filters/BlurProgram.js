"use strict";

const Program = require("../Program");

class BlurProgram extends Program
{
	static new(){
		return instance;
	}

	constructor(){
		super("screen&filters/blur");
	}

	onInit(gl, program){
		this.radiusAddress = gl.getUniformLocation(program, "radius");
		this.weightAddress = gl.getUniformLocation(program, "weight");
		this.offsetAddress = gl.getUniformLocation(program, "offset");
	}

	updateUniform(gl, radius, weight){
		gl.uniform1i( this.radiusAddress, radius);
		gl.uniform1fv(this.weightAddress, weight);
	}

	updateOffset(gl, offset){
		gl.uniform2fv(this.offsetAddress, offset);
	}
}

const instance = new BlurProgram();

module.exports = BlurProgram;