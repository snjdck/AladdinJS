"use strict";

const DisplayObject3D = require("../DisplayObject3D");
const {QuadVertexArray} = require("../vertexarrays");
const TerrainQuad = require("./TerrainQuad");
const {DrawMode} = require("../renderers");

class Terrain extends DisplayObject3D
{
	constructor(material){
		super();
		this.tileList = [];
		for(let i=0; i<10; ++i){
			for(let j=0; j<10; ++j){
				let tile = new TerrainQuad(64, i, j);
				tile.material = material;
				this.tileList.push(tile);
			}
		}
	}

	collectDrawUnits(collector, gl, mode){
		if(mode == DrawMode.Pick){
			return;
		}
		if(mode != DrawMode.Normal){
			return;
		}
		for(let tile of this.tileList){
			collector.addDrawUnit(tile);
		}
	}
}

module.exports = Terrain;