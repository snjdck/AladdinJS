'use strict';

const WebGL = require('../WebGL');

class Material{
	constructor(shader){
		this.shader = shader;
	}

	isTransparent(){return false;}
	//onUpdate(){}
	//onDraw(drawUnit, index, batchIndex){}
}

Material.needInitUniformLocationFlag = true;
Material.initUniformLocation = function(gl, program){}
Material.bindTexture = (gl, texture) => gl.bindTexture(gl.TEXTURE_2D, texture);
Material.onDrawBatch = function(drawUnitList, offset, instanceCount, batchIndex){
	for(let i=0; i<instanceCount; ++i){
		let drawUnit = drawUnitList[offset+i];
		drawUnit.material.onDraw(drawUnit, i, batchIndex);
	}
}

module.exports = Material;
