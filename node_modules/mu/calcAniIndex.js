
function calcAniIndex({
	environment= 'land',//sea, sky
	role='warrior',//sorcerer, archer
	weapon,//bow, crossbow, axe, axe2, sword, sword2, spear, staff, staff2, shield
	hasMount=false,
	hasWing=false,
	//isArmed=true,
	action='stand',//walk, run, attack, skill
}){
	if(environment == 'sea'){
		if(action == 'walk')return 24;
		if(action == 'run')return 33;
	}
	if(hasWing){
		if(action == 'stand')return (weapon == 'bow' || weapon == 'crossbow') ? 12 : 11;
		if(action == 'walk' || action == 'run')return (weapon == 'bow' || weapon == 'crossbow') ? 35 : 34;
	}else if(hasMount){
		if(action == 'stand')return (weapon == 'bow' || weapon == 'crossbow') ? 14 : 13;
		if(action == 'walk' || action == 'run')return (weapon == 'bow' || weapon == 'crossbow') ? 37 : 36;
	}
	if(!weapon){
		if(action == 'stand')return role == 'archer' ? 2 : 1;
		if(action == 'walk')return role == 'archer' ? 16 : 15;
		if(action == 'run')return 25;
		if(action == 'attack')return hasMount ? 54 : 38;
	}else if(weapon == 'axe'){//sword, staff single hand
		if(action == 'stand')return 4;
		if(action == 'walk')return 17;
		if(action == 'run')return 26;
		if(action == 'attack')return hasMount ? 55 : 39;
	}else if(weapon == 'sword'){//axe double hand
		if(action == 'stand')return 5;
		if(action == 'walk')return 18;
		if(action == 'run')return 28;
		if(action == 'attack')return hasMount ? 56 : 40;
	}else if(weapon == 'staff'){//double hand
		if(action == 'stand')return 6;
		if(action == 'walk')return 19;
		if(action == 'run')return 29;
		if(action == 'attack')return hasMount ? 57 : 43;//44
	}else if(weapon == 'spear'){//double hand
		if(action == 'stand')return 7;
		if(action == 'walk')return 20;
		if(action == 'run')return 29;
		if(action == 'attack')return hasMount ? 57 : 43;//44
	}else if(weapon == 'bow'){
		if(action == 'stand')return 8;
		if(action == 'walk')return 21;
		if(action == 'run')return 30;
		if(action == 'attack')return hasMount ? 58 : hasWing ? 52 : 50;
	}else if(weapon == 'crossbow'){
		if(action == 'stand')return 9;
		if(action == 'walk')return 22;
		if(action == 'run')return 31;
		if(action == 'attack')return hasMount ? 59 : hasWing ? 53 : 51;
	}
}

exports.calcAniIndex = calcAniIndex;

const aniNames = ['default', 'manStand', 'womanStand']
aniNames[11] = 'flyStand'
aniNames[12] = 'flyBow'
aniNames[13] = 'Ride'
aniNames[14] = 'Ride2'
aniNames[15] = 'walk preview'
aniNames[16] = 'walk preview'
aniNames[17] = 'walk preview'
aniNames[18] = 'walk preview'
aniNames[19] = 'walk preview'
aniNames[20] = 'walk preview'
aniNames[21] = 'walk preview'
aniNames[22] = 'walk preview'
aniNames[23] = 'walk'
aniNames[24] = 'swim preview'
aniNames[25] = 'run preview'
aniNames[26] = 'run preview'
aniNames[27] = 'run preview'
aniNames[28] = 'run preview'
aniNames[29] = 'run preview'
aniNames[30] = 'run preview'
aniNames[31] = 'run preview'
aniNames[32] = 'run'
aniNames[33] = 'fast swim preview'
aniNames[34] = 'fly move'
aniNames[35] = 'fly move'
aniNames[36] = 'ride move preview'
aniNames[37] = 'ride move preview'
aniNames[38] = 'attack by hand'
aniNames[39] = 'attack by axe'
aniNames[40] = 'attack by axe'
aniNames[41] = 'attack by staff'
aniNames[42] = 'attack by staff'
aniNames[43] = 'attack by sword'
aniNames[44] = 'attack by double sword'
aniNames[45] = 'attack by double sword'
aniNames[46] = 'attack by sword skill'
aniNames[47] = 'attack by lian dao'
aniNames[48] = 'attack by lian dao'
aniNames[49] = 'attack by lian dao'
aniNames[50] = 'attack by bow'
aniNames[51] = 'attack by crossbow'
aniNames[52] = 'attack by bow with wing'
aniNames[53] = 'attack by crossbow with wing'
aniNames[54] = 'attack when ride'
aniNames[55] = 'attack when ride'
aniNames[56] = 'attack when ride'
aniNames[57] = 'attack when ride'
aniNames[58] = 'attack by bow when ride'
aniNames[59] = 'attack by crossbow when ride'
aniNames[60] = 'warrer skill di lie zhan'
aniNames[61] = 'warrer skill ya tu ci'
aniNames[62] = 'warrer skill sheng long ji'
aniNames[63] = 'warrer skill hui xuan zhan'
aniNames[64] = 'warrer skill tian di shi zhi'
aniNames[65] = 'warrer skill zhuan quan'
aniNames[66] = 'warrer skill'
aniNames[67] = 'warrer skill'
aniNames[68] = 'warrer skill'
aniNames[69] = 'warrer skill'
aniNames[70] = 'warrer skill'
aniNames[71] = 'warrer skill ya tu ci'
aniNames[72] = 'warrer hand up'
aniNames[73] = 'warrer jump down'
aniNames[74] = 'warrer sit'
aniNames[75] = 'warrer sit'
aniNames[76] = 'warrer yong bao'
aniNames[77] = 'warrer walk preview'
aniNames[78] = 'warrer sit on horse'
aniNames[79] = 'warrer sit on horse'
aniNames[80] = 'fashi attack by hand'
aniNames[81] = 'fashi attack by hand'
aniNames[82] = 'fashi attack when ride wuli'
aniNames[83] = 'fashi attack when ride mofa'

//ride action
aniNames[130] = 'bow to air'
//biao qing
aniNames[142] = 'mo jian shi weapon stand'
aniNames[143] = 'mo jian shi weapon walk'
aniNames[144] = 'mo jian shi weapon run'
aniNames[145] = 'mo jian shi weapon attack'

aniNames[146] = 'fashi mofa with hand'
aniNames[147] = 'fashi mofa with weapon'
aniNames[148] = 'fashi hit with weapon'
aniNames[149] = 'fashi hit with weapon'
aniNames[150] = 'zhi liao'
aniNames[151] = 'zhi liao'
aniNames[152] = 'fashi mofa ji guang'
aniNames[153] = 'fashi mofa hui mie'
aniNames[154] = 'fashi mofa di yu huo'
aniNames[155] = 'fashi mofa when ride'
// biao qing
aniNames[168] = 'zhi liao'

aniNames[178] = 'bow attack'
aniNames[179] = 'bow attack in water or air'
aniNames[180] = 'crossbow attack'
aniNames[181] = 'crossbow attack in water or air'
// until to 246
