"use strict";

const Program = require("../Program");

class ColorMatrixProgram extends Program
{
	static new(){
		return instance;
	}

	constructor(){
		super("screen&filters/colormatrix");
	}

	onInit(gl, program){
		this.matrixAddress = gl.getUniformLocation(program, "matrix");
		this.offsetAddress = gl.getUniformLocation(program, "offset");
	}

	updateUniform(gl, matrix, offset){
		gl.uniformMatrix4fv(this.matrixAddress, false, matrix);
		gl.uniform4fv(this.offsetAddress, offset);
	}
}

const instance = new ColorMatrixProgram();

module.exports = ColorMatrixProgram;