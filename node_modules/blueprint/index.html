<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Blueprint</title>
	<link rel="stylesheet" href="main.css">

	<template id="blueprint-block">
		<style>
			:host {
				position: absolute;
			}
			.card {
				width: 150px;
				/*height: 220px;*/
				background-color: #222;
				border-radius: 10px;
				/*box-shadow: 16px 16px 10px black;*/
				color: white;
				/*--title-display: flex;*/
			}
			.title {
				height: 30px;
				border-radius: 10px 10px 0 0;
				background: linear-gradient(to right top, #84fab0 10%, #8fd3f4);

				display: flex;
				justify-content: center;
				align-items: center;

				cursor: grab;
				user-select: none;
			}
			.title:active {
				cursor: grabbing;
			}

			.title, .title + .close {
				display: var(--title-display, none);
			}

			.close {
				display: flex;
				justify-content: center;
				align-items: center;
				width: 20px;
				height: 20px;
				position: absolute;
				top:5px;
				right: 5px;
				user-select: none;
			}

			.close:hover {
				outline: 1px solid black;
			}
			.body{
				display: flex;
    			justify-content: space-between;
    			padding-block: 10px;
			}

			.left, .right {
				display: flex;
    			flex-direction: column;
				gap:20px;
			}
		</style>
		<div class="card">
			<slot class="title" name="title"></slot>
			<div class="close">×</div>
			<div class="body">
				<slot class="left" name="input"></slot>
				<slot class="right" name="output"></slot>
			</div>
		</div>
	</template>
	<script src="main.js"></script>
</head>
<body>
	
	<div class="blueprint-root">
	<svg height="100%" width="100%" id="svgContainer" class="grid-background">
		<!--<defs>
			<linearGradient id="titleGradient-card0" x1="0%" y1="100%" x2="100%" y2="0%">
				<stop offset="10%" stop-color="#84fab0" stop-opacity="1"></stop>
				<stop offset="100%" stop-color="#8fd3f4" stop-opacity="1"></stop>
			</linearGradient>
			<linearGradient id="titleGradient-card1" x1="0%" y1="100%" x2="100%" y2="0%">
				<stop offset="10%" style="stop-color: #fccb90; stop-opacity: 1"></stop>
				<stop offset="100%" style="stop-color: #d57eeb; stop-opacity: 1"></stop>
			</linearGradient>
			<filter id="shadow2">
				<feDropShadow dx="16" dy="16" stdDeviation="10" flood-color="black" />
			</filter>
		</defs>
		<g id="linksContainer"></g> 
		<g id="cardsContainer">
			<g class="item" transform="translate(300,100)">
				
				<rect fill="#222" width="150" height="220" rx="10" ry="10"></rect>
				<path class="card draggable" d="M 0,10
				a 10,10 0 0 1 10,-10
				h 130
				a 10,10 0 0 1 10,10
				v 20
				h -150
				z" fill="url(#titleGradient-card1)"></path>
				<text x="75" y="15" text-anchor="middle" alignment-baseline="middle">Start</text>

				<circle class="node" cx="0" cy="75" r="7" fill="#fff" data-card-id="card1" data-node-id="card1-node1"></circle>
				<text x="12" y="71" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">N</text>

				<circle class="node" cx="150" cy="75" r="7" fill="#fff" data-card-id="card1" data-node-id="card1-node4"></circle>
				<text x="138" y="71" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">N</text>

				<circle class="node" cx="0" cy="125" r="7" fill="#28C76F" data-card-id="card1" data-node-id="card1-node2"></circle>
				<text x="12" y="121" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">1</text>
				<foreignObject x="0" y="112" width="130" height="26"><input type="text" style="width: 110px; height: 100%; margin-left: 20px; border-radius: 5px; border: 1px solid white; background-color: rgb(34, 34, 34); color: white; font-size: 1em; padding: 0px; box-sizing: border-box; outline: none;"></foreignObject>

				<circle class="node" cx="150" cy="125" r="7" fill="#0396FF" data-card-id="card1" data-node-id="card1-node5"></circle>
				<text x="138" y="121" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">1</text>

				<rect class="card-delete-icon" x="125" y="5" width="20" height="20" fill="transparent" data-card-id="card0" style="cursor: pointer;"></rect>
				<text x="135" y="20" text-anchor="middle" fill="white" font-size="16px" pointer-events="none">×</text>
			</g>
			
			<g class="item" transform="translate(100,100)" style="filter:url(#shadow2)">
				<rect fill="#222" width="150" height="220" rx="10" ry="10"></rect>
				<path class="card draggable" d="M 0,10
				a 10,10 0 0 1 10,-10
				h 130
				a 10,10 0 0 1 10,10
				v 20
				h -150
				z" fill="url(#titleGradient-card0)"></path>
				<text x="75" y="15" text-anchor="middle" alignment-baseline="middle">Start</text>

				<circle class="node" cx="0" cy="75" r="7" fill="#fff" data-card-id="card1" data-node-id="card1-node1"></circle>
				<text x="12" y="71" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">N</text>

				<circle class="node" cx="150" cy="75" r="7" fill="#fff" data-card-id="card1" data-node-id="card1-node4"></circle>
				<text x="138" y="71" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">N</text>

				<circle class="node" cx="0" cy="125" r="7" fill="#28C76F" data-card-id="card1" data-node-id="card1-node2"></circle>
				<text x="12" y="121" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">1</text>
				<foreignObject x="0" y="112" width="130" height="26"><input type="text" style="width: 110px; height: 100%; margin-left: 20px; border-radius: 5px; border: 1px solid white; background-color: rgb(34, 34, 34); color: white; font-size: 1em; padding: 0px; box-sizing: border-box; outline: none;"></foreignObject>

				<circle class="node" cx="150" cy="125" r="7" fill="#0396FF" data-card-id="card1" data-node-id="card1-node5"></circle>
				<text x="138" y="121" text-anchor="middle" fill="#aaa" style="font-size: 8px;" alignment-baseline="hanging">1</text>

				<rect class="card-delete-icon" x="125" y="5" width="20" height="20" fill="transparent" data-card-id="card0" style="cursor: pointer;"></rect>
				<text x="135" y="20" text-anchor="middle" fill="white" font-size="16px" pointer-events="none">×</text>
			</g>
			<g transform="translate(100,100)">
			<path stroke="#fff" stroke-width="5" fill="none" stroke-dasharray="10" stroke-dashoffset="0" d="M420 382 C367.5 382 297.5 274 245 274"><animate attributeName="stroke-dashoffset" dur="0.5s" repeatCount="indefinite" from="20" to="0"></animate></path>
			<circle class="delete-icon" cx="332.5" cy="328" style="cursor: pointer;" r="10" fill="red" data-link-level="0"></circle>
			<text x="332.5" y="333" text-anchor="middle" fill="white" font-size="15px" pointer-events="none">×</text>
		</g>-->
	</svg>
	<div>
			<blueprint-block style="left:300px;top:400px;" >
				<span slot="title">Start</span>
				<div slot="input" data-connected="0" data-statement="1">in</div>
				<div slot="input" data-connected="1" data-statement="1">in</div>
				<div slot="input" data-connected="0" data-statement="0">in</div>
				<div slot="input" data-connected="1" data-statement="0">in</div>
				<div slot="output" data-connected="0" data-statement="1">out</div>
				<div slot="output" data-connected="1" data-statement="1">out</div>
				<div slot="output" data-connected="0" data-statement="0">out</div>
				<div slot="output" data-connected="1" data-statement="0">out</div>
			</blueprint-block>
			<blueprint-block style="left:600px;top:400px;" >
				<span slot="title">Start</span>
				<div slot="input" data-connected="0" data-statement="1">in</div>
				<div slot="input" data-connected="1" data-statement="1">in</div>
				<div slot="input" data-connected="0" data-statement="0">in</div>
				<div slot="input" data-connected="1" data-statement="0">in</div>
				<div slot="output" data-connected="0" data-statement="1">out</div>
				<div slot="output" data-connected="1" data-statement="1">out</div>
				<div slot="output" data-connected="0" data-statement="0">out</div>
			</blueprint-block>
			<blueprint-block style="left:900px;top:400px;" >
				<span slot="title">Start</span>
				<div slot="input" data-connected="0" data-statement="1">in</div>
				<div slot="input" data-connected="1" data-statement="1">in</div>
				<div slot="input" data-connected="0" data-statement="0">in</div>
				<div slot="output" data-connected="0" data-statement="1">out</div>
				<div slot="output" data-connected="1" data-statement="1">out</div>
				<div slot="output" data-connected="0" data-statement="0">out</div>
			</blueprint-block>

			<blueprint-block style="left:600px;top:600px;" >
				<div slot="input" data-connected="0" data-statement="1">in</div>
				<div slot="input" data-connected="1" data-statement="1">in</div>
				<div slot="input" data-connected="0" data-statement="0">in</div>
				<div slot="output" data-connected="0" data-statement="1">out</div>
				<div slot="output" data-connected="1" data-statement="1">out</div>
				<div slot="output" data-connected="0" data-statement="0">out</div>
			</blueprint-block>
		</div>
		<svg id="svgContainer0" style="pointer-events: none;"></svg>
		<div>
			<div id="card-creation-modal" style="display: block; position: absolute; border: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); padding: 10px; z-index: 100; left: 822px; top: 388px;">
			<!-- 搜索结果列表 -->
			<ul id="card-type-list"><li tabindex="0">Start</li><li tabindex="0">Condition</li><li tabindex="0">Print</li><li tabindex="0">BoolToString</li></ul>
		<button id="cancel-btn">取消</button></div>
		</div>
	</div>
</body>
</html>