'use strict';

require('./CodeView.css');

const {createElement} = require('../createElement');
const {cpp} = require('utils/html/highlight');

const CodeView = createElement(function(tag, end, {children}){
	tag('div', {className: 'editor'})
		for(let code of children.split('\n')){
			//*
			tag('code')
			if(code){
				for(let {text, style} of cpp(code)){
					tag('span', {className:style})
						tag`${text}`
					end('span')
				}
			}else{
				tag('span')
					tag`\n`
				end('span')
			}
			end('code')
			//*/
			/*
			tag('code', {dangerouslySetInnerHTML:{
				__html: hljs.highlight(code, {language:'cpp'}).value
			}}, true)
			//*/
		}
	end('div')
});

module.exports = CodeView;
