'use strict';

require('./Collapse.css');

const {createElement} = require('../createElement');
const Details = require('./Details');

const Collapse = createElement(function(tag, end, {style, children}){
	tag('div', {className:'collapse', style})
		React.Children.map(children, child => {
			const {title, open, buttonList} = child.props;
			tag('details', {open})
				tag('summary')
					tag`${title}`
					if(buttonList){
						for(let {title, onClick} of buttonList){
							tag('a', {onClick})
								tag`${title}`
							end('a')
						}
					}
				end('summary')
			end('details')
			tag(React.cloneElement(child, {title:null, open:null, buttonList:null}))
		});
	end('div')
});

module.exports = Collapse;
