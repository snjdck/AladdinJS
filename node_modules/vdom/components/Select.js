'use strict';

const {createElement} = require('../createElement');

const Select = createElement(function(tag, end, {children, ...props}){
	function addOption({label, value, disabled}){
		if(!label)return;
		tag('option', {value, disabled, children:label, key:label}, true)
	}
	tag('select', props)
		for(let child of children){
			if(Array.isArray(child)){
				tag('optgroup', {label: child[0], disabled: child[1] === true})
					child.forEach(addOption)
				end('optgroup')
			}else{
				addOption(child)
			}
		}
	end('select')
});

module.exports = Select;
