'use strict';

const {join} = require('path');
const {readdirSync, rmdirSync, unlinkSync} = require('fs');

const options = {withFileTypes:true};

function clearFolder(path, deleteSelf=false){
	for(const file of readdirSync(path, options)){
		const real_path = join(path, file.name);
		if(file.isDirectory()){
			clearFolder(real_path, true);
		}else if(file.isFile()){
			unlinkSync(real_path);
		}
	}
	if(deleteSelf)rmdirSync(path);
}

exports.clearFolder = clearFolder;
