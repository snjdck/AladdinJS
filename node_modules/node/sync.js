'use strict';

const fs = require('fs');
const http = require('http');

function syncFile(localPath, remotePath, handler){
	if(fs.existsSync(localPath)){
		return handler(localPath);
	}
	http.get(remotePath, response => {
		if(response.statusCode != 200)return handler();
		response.pipe(fs.createWriteStream(localPath)).on('finish', () => handler(localPath));
	});
}

exports.syncFile = syncFile;
