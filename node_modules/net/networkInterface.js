
const os = require('os');

const sort = (a, b) => a.netmask < b.netmask;

module.exports = () => Object.values(os.networkInterfaces())
	.reduce((a, b) => a.concat(b))
	.filter(({family, internal}) => !internal && family == 'IPv4')
	.sort(sort)
	.map(({address}) => address)[0];

