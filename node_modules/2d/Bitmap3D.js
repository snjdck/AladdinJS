"use strict";

const DisplayObject2D = require("../DisplayObject2D");
const {DrawMode} = require("../renderers");

class Bitmap3D extends DisplayObject2D
{
	constructor(width, height, object3d){
		super();
		this.width = width;
		this.height = height;
		this.object3d = object3d;
		this.updateEnabled = true;
	}

	onUpdate(timeElapsed){
		super.onUpdate(timeElapsed);
		if(this.updateEnabled){
			this.object3d.onUpdate(timeElapsed);
		}
	}

	onDraw(gl, mode){
		if(mode == DrawMode.Pick){
			return;
		}
		let {camera, object3d} = this;
		gl.render2d.submit();
		camera.render(object3d, gl, DrawMode.Normal);
		gl.render2d.invalidate();
	}
}

module.exports = Bitmap3D;