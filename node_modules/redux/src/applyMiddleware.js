
import compose from 'utils/function/compose';

function applyMiddleware(...middlewareList)
{
	return createStore => (...args) => {
		const store = createStore(...args);
		store.dispatch = compose(...middlewareList.map(fn => fn(store)))(store.dispatch);
		return store;
	};
}