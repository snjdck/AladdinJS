
function interpolateKeyFrames(keyTimes, keyValues, time, result){
	if(time <= 0 || keyValues.length == 1)return result.copyFrom(keyValues[0]);
	if(time >= keyTimes.at(-1))return result.copyFrom(keyValues.at(-1));
	for(let i=keyTimes.length-1; i>=0; --i){
		const keyTime = keyTimes[i];
		if(time < keyTime)continue;
		const ratio = (time - keyTime) / (keyTimes[i+1] - keyTime);
		return keyValues[i].interpolate(keyValues[i+1], ratio, result);
	}
}

exports.interpolateKeyFrames = interpolateKeyFrames;
