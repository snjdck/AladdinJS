'use strict';

function playMP3(src, callback){
	const isBlobUrl = typeof src != 'string';
	const audio = document.createElement('audio');
	audio.setAttribute('autoplay', 'autoplay');
	audio.setAttribute('controls', 'true');
	audio.addEventListener('ended', evt => {
		if(isBlobUrl)URL.revokeObjectURL(src);
		callback();
	});
	if(isBlobUrl){
		src = URL.createObjectURL(new Blob([src], {type: 'audio/mp3'}));
	}
	audio.src = src;
	return audio;
}

exports.playMP3 = playMP3;
