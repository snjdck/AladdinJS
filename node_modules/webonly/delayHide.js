'use strict';

function delayHide(handler, delay=500){
	let timer;
	function onTimer(){
		handler(false);
		timer = null;
	}
	return function(value){
		if(timer){
			if(value){
				clearTimeout(timer);
				timer = null;
			}
		}else if(value){
			handler(true);
		}else{
			timer = setTimeout(onTimer, delay);
		}
	}
}

function bindMouseTarget(target, handler, delay=500){
	const showFn = delayHide(handler, delay);
	target.addEventListener('mouseenter', evt => showFn(true));
	target.addEventListener('mouseleave', evt => showFn(false));
}

exports.delayHide = delayHide;
exports.bindMouseTarget = bindMouseTarget;
