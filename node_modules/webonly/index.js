
const loadBlob = blob => new Promise(resolve => {
	let reader = new FileReader();
	reader.addEventListener("loadend", () => resolve(reader.result));
	reader.readAsArrayBuffer(blob);
});

function supportDrag(callback){
	window.ondragover = function(evt){
		evt.preventDefault();
		return false;
	}
	window.ondrop = function(evt){
		evt.preventDefault();
		callback(evt.dataTransfer);
		return false;
	}
}

function getSearchInfo(search){
	return (search || window.location.search)
	.slice(1).split('&')
	.map(pair => pair.split('='))
	.reduce((info, [k, v]) => (k && (info[k] = v || ''), info), {});
}


exports.loadBlob = loadBlob;
exports.supportDrag = supportDrag;
exports.getSearchInfo = getSearchInfo;
