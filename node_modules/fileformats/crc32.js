'use strict';

const crc32 = function(){
	const table = Array.from(function*(){
		for(let i=0; i<256; ++i){
			let v = i;
			for(let j=0; j<8; ++j){
				v = (v & 1) ? (-306674912 ^ (v >>> 1)) : (v >>> 1);
			}
			yield v;
		}
	}());
	return (value, seed) => value.reduce((c, v) => (c >>> 8) ^ table[(c ^ v) & 0xFF], seed ^ -1) ^ -1;
}();

module.exports = crc32;
