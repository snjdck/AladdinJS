"use strict";

const decode = (parser => v => parser.parseFromString(v, "application/xml"))(new DOMParser());

function create(args){
	if(!Array.isArray(args))
		return args;
	let [tagName, ...children] = args;
	let attributes = (children[0] == null || children[0].constructor == Object) && children.shift();
	let result = "<" + tagName;
	if(attributes)
		result += Object.entries(attributes).map(([k,v]) => ` ${k}="${v}"`).join("");
	if(children.length > 0)
		return result + ">" + children.map(create).join("") + `</${tagName}>`;
	return result + "/>";
}

module.exports = {
	create,
	decode
};