"use strict";

const decodeBmp = require("./bmp");
const decodeTga = require("./tga");
function decode(name, bytes, flipY=false){
	let index = name.lastIndexOf(".");
	let ext = name.slice(index+1);
	switch(ext.toLowerCase()){
		case "tga": return decodeTga(bytes, flipY);
		case "bmp": return decodeBmp(bytes, flipY);
	}
	throw new Error(`${name} not support yet!`);
}

module.exports = {
	decodeTga,
	decodeBmp,
	decode
};
