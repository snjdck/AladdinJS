"use strict";

const {loadData} = require("../utils/loader");

class AssetManager{
	constructor(){
	}

	loadFiles(fileList){
		return Promise.all(fileList.map(this.loadFile));
	}

	loadFile(file){
		return loadData(`/assets/${file}`, "arraybuffer");
	}

	loadImage(name){
		return new Promise(resolve => {
			let img = new Image();
			img.id = name;
			img.src = `../assets/${name}`;
			img.addEventListener("load", evt => resolve(img));
			document.body.appendChild(img);
		});
	}
}

module.exports = AssetManager;
