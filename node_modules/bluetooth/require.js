
const moduleDict = Object.create(null);

function require(path){
	if(path in moduleDict){
		return moduleDict[path];
	}
	console.log('load module:', path);
	let request = new XMLHttpRequest();
	request.open('GET', path, false);
	request.send();
	const body = request.response;

	const module = {exports:{}};
	Function('module', 'exports', body)(module, module.exports);
	return moduleDict[path] = module.exports;
}