"use strict";

class FunctionObject
{
	constructor(codeList, context, argList, addressBegin, addressEnd, userData){
		this.codeList = codeList;
		this.context = context;
		this.argList = argList;
		this.addressBegin = addressBegin;
		this.addressEnd = addressEnd;
		this.ignoreYieldFlag = userData[0];
	}
	
	createContext(valueList){
		let {context, argList} = this;
		let newContext = context.createChild();
		for(let i=argList.length-1; i>=0; --i)
			newContext.newKey(argList[i], valueList[i]);
		return newContext;
	}
	
	initScope(scope, valueList){
		scope.nextCodeList = this.codeList;
		scope.nextContext = this.createContext(valueList);
		scope.ignoreYieldFlag = this.ignoreYieldFlag;
		scope.resumeAddress = this.addressBegin;
		scope.finishAddress = this.addressEnd;
	}
}

module.exports = FunctionObject;