"use strict";

const VertexArray = require("./VertexArray");

class ScreenVertexArray extends VertexArray{
	onCreate(gl){
		this.vertexBuffer = gl.createBuffer();
		
		gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
		gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, 1, 1, 1, 1, -1, -1, -1]), gl.STATIC_DRAW);

		gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 8, 0);
		gl.enableVertexAttribArray(0);
	}

	onDispose(gl){
		gl.deleteBuffer(this.vertexBuffer);
		this.vertexBuffer = null;
	}

	draw(gl){
		gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
	}
}

module.exports = ScreenVertexArray;