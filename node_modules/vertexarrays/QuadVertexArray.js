"use strict";

const VertexArray = require("./VertexArray");

class QuadVertexArray extends VertexArray
{
	static new(){
		return instance;
	}

	constructor(){
		super();
		this.boneCount = 1;
	}

	onCreate(gl){
		let vertexData = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
		super.onCreate(gl, vertexData);
		gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 8, 0);
		gl.enableVertexAttribArray(0);
	}

	draw(gl, instanceCount=1){
		gl.drawArraysInstanced(gl.TRIANGLE_FAN, 0, 4, instanceCount);
	}
}

const instance = new QuadVertexArray();

module.exports = QuadVertexArray;