"use strict";

const {createMeshIndices} = require("../utils/geometry");
const VertexArray = require("./VertexArray");

class VertexArray2D extends VertexArray
{
	onCreate(gl){
		let vertexData = new Float32Array([
			0, 0, 0, 0, 0, 0,
			0, 0, 1, 0, 0, 0,
			1, 0, 0,-1, 0, 0,
			1, 0, 0, 0, 0, 0,
			
			0, 0, 0, 0, 1, 0,
			0, 0, 1, 0, 1, 0,
			1, 0, 0,-1, 1, 0,
			1, 0, 0, 0, 1, 0,
			
			0, 1, 0, 0, 0,-1,
			0, 1, 1, 0, 0,-1,
			1, 1, 0,-1, 0,-1,
			1, 1, 0, 0, 0,-1,
			
			0, 1, 0, 0, 0, 0,
			0, 1, 1, 0, 0, 0,
			1, 1, 0,-1, 0, 0,
			1, 1, 0, 0, 0, 0
		]);
		let indexData = new Uint8Array(createMeshIndices(4, 4));
		
		super.onCreate(gl, vertexData, indexData);

		gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 24, 0);
		gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 24, 8);

		gl.enableVertexAttribArray(0);
		gl.enableVertexAttribArray(1);
	}

	draw(gl){
		gl.drawElements(gl.TRIANGLES, 54, gl.UNSIGNED_BYTE, 0);
	}
}

module.exports = VertexArray2D;