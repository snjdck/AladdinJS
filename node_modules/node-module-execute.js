const {execSync} = require('child_process');
const path = require('path');

//const loader_path = require.resolve('node-module-loader.mjs');
const loader_path = 'node-module-loader.mjs';

let file_path = process.argv[2];

if(!file_path){
	return;
}

file_path = path.resolve(process.cwd(), file_path);

const options ={
	encoding: 'utf-8'
};

let cmd = `node --harmony --harmony-class-fields --harmony-static-fields --experimental-modules --loader ${loader_path} ${file_path}`;
let output = execSync(cmd, options);

console.log(output);
