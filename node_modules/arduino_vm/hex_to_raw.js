'use strict';

const {readFileSync, writeFileSync} = require('fs');

/*
[Colon][Data Size][Start Address][Record Type][Data][Checksum]
[:][10][0000][00][0C9434000C944F000C944F000C944F00][4F]
//*/
const parseHEX = data => Buffer.from(Array.from(data.trim()
	.split(/\s+/)
	.map(line => line.slice(9, -2))
	.join('')
	.match(/\w{2}/g),
	v => parseInt(v, 16)
));

const cast = path => writeFileSync(path + '.raw', parseHEX(readFileSync(path, 'utf8')));

if(process.argv.length > 2){
	cast(process.argv[2]);
}
